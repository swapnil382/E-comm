{"ast":null,"code":"var _jsxFileName = \"C:\\\\Swapnil\\\\E-commerce_react\\\\projfrontend\\\\src\\\\core\\\\StripeCheckout.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { isAutheticated } from \"../auth/helper\";\nimport { cartEmpty, loadcart } from \"./helper/CartHelper\";\nimport StripCheckoutButton from \"react-stripe-checkout\";\n\nconst StripeCheckout = ({\n  products,\n  setReload = f => f,\n  reload = undefined\n}) => {\n  const [data, setData] = useState({\n    loading: false,\n    success: false,\n    error: \"\",\n    address: \"\"\n  });\n  const token = isAutheticated() && isAutheticated().token;\n\n  const userId = isAutheticated() && isAutheticated().user._id;\n\n  const getFinalAmount = () => {\n    let amount = 0;\n    products.map(p => {\n      amount = amount + p.price;\n    });\n    return amount;\n  };\n\n  const showStripeButton = () => {\n    return isAutheticated() ? React.createElement(StripCheckoutButton, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-success\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, \"Pay with stripe\")) : React.createElement(Link, {\n      to: \"/signin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-warning\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }, \"Signin\"));\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"text-white\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"strip checkout \", getFinalAmount()), showStripeButton());\n};\n\nexport default StripeCheckout;","map":{"version":3,"sources":["C:/Swapnil/E-commerce_react/projfrontend/src/core/StripeCheckout.js"],"names":["React","useState","useEffect","Link","isAutheticated","cartEmpty","loadcart","StripCheckoutButton","StripeCheckout","products","setReload","f","reload","undefined","data","setData","loading","success","error","address","token","userId","user","_id","getFinalAmount","amount","map","p","price","showStripeButton"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,QAAd,EAAuBC,SAAvB,QAAuC,OAAvC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,cAAT,QAA+B,gBAA/B;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,qBAApC;AACA,OAAOC,mBAAP,MAAgC,uBAAhC;;AAEA,MAAMC,cAAc,GAAG,CAAC;AAACC,EAAAA,QAAD;AAAUC,EAAAA,SAAS,GAAGC,CAAC,IAAIA,CAA3B;AAA8BC,EAAAA,MAAM,GAAEC;AAAtC,CAAD,KAAsD;AAErE,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBd,QAAQ,CAAC;AAC7Be,IAAAA,OAAO,EAAC,KADqB;AAE7BC,IAAAA,OAAO,EAAC,KAFqB;AAG7BC,IAAAA,KAAK,EAAC,EAHuB;AAI7BC,IAAAA,OAAO,EAAC;AAJqB,GAAD,CAAhC;AAOA,QAAMC,KAAK,GAAGhB,cAAc,MAAMA,cAAc,GAAGgB,KAAnD;;AACA,QAAMC,MAAM,GAAGjB,cAAc,MAAMA,cAAc,GAAGkB,IAAjB,CAAsBC,GAAzD;;AAEA,QAAMC,cAAc,GAAG,MAAK;AACxB,QAAIC,MAAM,GAAG,CAAb;AACAhB,IAAAA,QAAQ,CAACiB,GAAT,CAAaC,CAAC,IAAI;AACdF,MAAAA,MAAM,GAAGA,MAAM,GAAGE,CAAC,CAACC,KAApB;AACH,KAFD;AAGA,WAAOH,MAAP;AACH,GAND;;AAQA,QAAMI,gBAAgB,GAAG,MAAM;AAC3B,WAAOzB,cAAc,KACjB,oBAAC,mBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAQ,MAAA,SAAS,EAAC,iBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADA,CADiB,GAKjB,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,SAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAQ,MAAA,SAAS,EAAC,iBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,CALJ;AASH,GAVD;;AAYJ,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAI,IAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAA4CoB,cAAc,EAA1D,CADJ,EAEKK,gBAAgB,EAFrB,CADJ;AAMH,CAtCD;;AAwCA,eAAerB,cAAf","sourcesContent":["import React,{useState,useEffect} from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { isAutheticated } from \"../auth/helper\"\r\nimport { cartEmpty, loadcart } from \"./helper/CartHelper\"\r\nimport StripCheckoutButton from \"react-stripe-checkout\"\r\n\r\nconst StripeCheckout = ({products,setReload = f => f, reload= undefined}) => {\r\n\r\n        const [data, setData] = useState({\r\n            loading:false,\r\n            success:false,\r\n            error:\"\",\r\n            address:\"\"\r\n        })\r\n\r\n        const token = isAutheticated() && isAutheticated().token\r\n        const userId = isAutheticated() && isAutheticated().user._id\r\n\r\n        const getFinalAmount = () =>{\r\n            let amount = 0;\r\n            products.map(p => {\r\n                amount = amount + p.price;\r\n            })\r\n            return amount\r\n        }\r\n\r\n        const showStripeButton = () => {\r\n            return isAutheticated () ? (\r\n                <StripCheckoutButton>\r\n                <button className=\"btn btn-success\">Pay with stripe</button>\r\n                </StripCheckoutButton>\r\n            ) : (\r\n                <Link to=\"/signin\">\r\n                    <button className=\"btn btn-warning\">Signin</button>\r\n                </Link>\r\n            )\r\n        }\r\n\r\n    return(\r\n        <div>\r\n            <h1 className=\"text-white\" >strip checkout {getFinalAmount()}</h1>\r\n            {showStripeButton()}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default StripeCheckout"]},"metadata":{},"sourceType":"module"}